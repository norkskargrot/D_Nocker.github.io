<!DOCTYPE html>
<html lang="en">
    <head>
      <!-- Google Analytics tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-BFM54NSSW0"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-BFM54NSSW0');
      </script>

      <!---->
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

      <title> Pico8 Terrain Renderer </title>
      <link rel="icon" type="image/x-icon" href="/images/favicon.ico" />

      <!-- Swup for fancy page transitions -->
      <script src="https://unpkg.com/swup@4"></script>
      <script>
        const swup = new Swup();
      </script>

      <!-- CSS -->
      <link rel="stylesheet" href="https://nic.dockerz.net/print.css" media="print">
      <link rel="stylesheet" href="https://nic.dockerz.net/poole.css">
      <link rel="stylesheet" href="https://nic.dockerz.net/hyde.css">
      <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
      <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
      
        <link rel="alternate" type="application/atom+xml" title="RSS" href="https://nic.dockerz.net/atom.xml">
      

      
      
    </head>

    <body class=" ">

      <div id="swup">
        
          <span class="show-in-mobile">
            
<div class="sidebarsmall">
    <div style="display: flex; flex-direction: row; gap: 2rem; align-items: flex-start;">
        <a href="https:&#x2F;&#x2F;nic.dockerz.net">
            <img src="/images/menu.svg" style="width: 40px;">
            <div class="siteTitle">
                <a href="https:&#x2F;&#x2F;nic.dockerz.net">Nic Docker</a>
                <img src="/images/arrow.svg" style="width: 0; min-width: 100%;">
            </div>
        </a>
    </div>
</div>

          </span>
          <span class="show-in-desktop">
            
<div class="sidebar">
    <div class="container sidebar-sticky">
        <div class="sidebar-about">
            <div class="siteTitle">
                <a href="https:&#x2F;&#x2F;nic.dockerz.net">Nic Docker</a>
                <img src="/images/arrow.svg" style="width: 0; min-width: 100%;">
            </div>
            
            <p>I&#x27;m a designer and developer with a love for crafting engaging experiences.</p>
            
        </div>

        <ul class="sidebar-nav">
            
                <li class="sidebar-nav-item">
                    <a href="&#x2F;design&#x2F;">DESIGN</a>
                </li>
            
                <li class="sidebar-nav-item">
                    <a href="&#x2F;games&#x2F;">GAMES</a>
                </li>
            
                <li class="sidebar-nav-item">
                    <a href="&#x2F;blog&#x2F;">BLOG</a>
                </li>
            
            <div class="sidebarLinkIconGroup">
                <a href="https://twitter.com/D_Nocker"><img class="sidebarLinkIcon" src="/images/twitter.svg"></a>
                <a href="https://github.com/norkskargrot"><img class="sidebarLinkIcon" src="/images/github.svg"></a>
                <a href="https://www.linkedin.com/in/nicdocker/"><img class="sidebarLinkIcon" src="/images/linkedin.svg"></a>
            </div>
        </ul>
    </div>
</div>

          </span>
        
        
  <div class="content">
    <div class="transition-content">
      <h1 class="post-title">Pico8 Terrain Renderer</h1>
      
      <div class="tags-container">
        
          <div class="tags-item">
            Pico8
          </div>
        
          <div class="tags-item">
            Playable Demo
          </div>
        
          <div class="tags-item">
            WIP
          </div>
        
      </div>
      <p>Built in the Pico8 engine, this project was an experiment in 3d terrain rendering from scratch.</p>
<h2 id="playable-demo">Playable Demo:</h2>
<p>Use the mouse to rotate the view, and the arrow keys to move.</p>
<iframe class= "pico8player" src="/games/pico8terrain/walker.html"... ></iframe>
<p>After reading about the voxel-space terrain rendering in the game Comanche: Maximum overkill (1992), I was keen to create my own implementation in Pico8. This projects was the result, and continues to be expanded far beyond the original implementation.</p>
<p>A fantastic resource on how the Comanche terrain rendering works can be found <a href="https://github.com/s-macke/VoxelSpace">here</a>.</p>
<p>Implementing this in Pico8 posed a significant challenge, as the engine's deliberate performance limitations made achieving a reasonable framerate an extreme optimisation puzzle. Pico8 has no gpu and does no allow for any form of parallelisation. It also limits the cpu operations which can be performed per frame. For any form of 3d-rendering this rapidly becomes a problem, meaning that 3d Pico8 applications are limited, and often rely on faux-3d techniques such as raycasting for walls or similar. Optimising this algorithm involved many tricks and pushing the limits of what is possible in Pico8.</p>
<p>Another issue which pico8 posed is that of data storage, where projects are generally only allowed 2kb of data for code and assets. This meant that the terrain data has to be generated on startup, which can be seen by the user. The algorithm which I implemented to create this data is a simple process of assigning random values at a given interval, bilinearly sampling these to generate data in between, and then slowly blurring the result to smooth it. This process is done twice at different scales and then combined to provide variety in the size of the noise output.</p>
<p>As the noise map is fairly low resolution, Bilinear sampling has to be smoothed in order to create smooth terrain. An older version of the project without the smoother sampling can be seen here;</p>
<img class = imagewithinpost src="/games/pico8terrain/oldterrain.gif">
<p>The final look of the demo is largely controlled by the visual limitations of pico8, namely that the screen is constrained to a resolution of 128*128 pixels, and only 16 colours. This meant that dithering is used heavily to convey lighting in the terrain, gradients in the sunset, and more. It is a entertaining challenge to create an appealing visual style within these constraints.</p>
<p>Various versions of this project have been created, including features on the terrain like trees, rocks, and characters, or a runtime-generated world map to assist navigation, both visible in the gif below. These features were removed in a from-scratch rewrite of the terrain rendering, aiming to improve performance and visuals, but will return in a future version. I would also love to including a raycasting engine to draw the solid walls of buildings.</p>
<img class = imagewithinpost src="/games/pico8terrain/objectsonterrain.gif">
<p>I am keen to progress this demo in the future, and to see what features I can continue to squeeze into such tight constraints.</p>

    </div>
  </div>

      </div>
    </body>

</html>